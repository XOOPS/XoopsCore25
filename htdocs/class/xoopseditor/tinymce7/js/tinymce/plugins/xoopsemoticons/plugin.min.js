/**
 * XOOOPS emoticons plugin
 *
 * @category  XoopsEditor
 * @package   TinyMCE7
 * @author    ForMuss
 * @copyright 2000-2025 XOOPS Project (https://xoops.org)
 * @license   GNU GPL 2 or later (http://www.gnu.org/licenses/gpl-2.0.html)
 * @link      http://xoops.org
 */
!function(){"use strict";var global=tinymce.util.Tools.resolve("tinymce.PluginManager"),register=function(editor,pluginUrl){var onAction=function(){return function(editor,pluginUrl){return editor.windowManager.openUrl({title:"XOOPS Emoticons",url:pluginUrl+"/xoopsemoticons.php",buttons:[{type:"cancel",text:"Close"}],width:600,height:300,onMessage:function(instance,data){"insertEmot"===data.mceAction&&""!=data.data.src&&setTimeout(()=>{editor.insertContent('<img src="'+data.data.src+'" alt="'+data.data.title+'" title="'+data.data.title+'">'),instance.close()},300)}})}(editor,pluginUrl)};editor.ui.registry.addButton("xoopsemoticons",{tooltip:"XOOPS Emoticons",icon:"emoji",onAction:onAction}),editor.ui.registry.addMenuItem("xoopsemoticons",{text:"XOOPS Emoticons...",icon:"emoji",onAction:onAction})};global.add("xoopsemoticons",function(editor,pluginUrl){register(editor,pluginUrl)})}(window);